.center.jumbotron
  %h1 Ecotone 
  %h2 An even better map of the campus
/ source: http://getbootstrap.com/examples/carousel/#
    
.content(id='map')
  :javascript
    var mapBoxAttribution = 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>'

    var map = L.map('map').setView([44.0429688, -121.3329103], 18, {layers: [satelliteLayer, outdoorLayer]});

    var plot_5    = L.marker([44.0429688, -121.3329103]).bindPopup("<b> Plot text here </b><a href='http://localhost:3000/plots/1/'> Plot </a>"),
      plot_6      = L.marker([44.0429789, -121.333324]).bindPopup('This is plot 6'),
      plot_7 = L.marker([44.0432026, -121.3334076]).bindPopup('This is plot 5_edit'),

    var plot_markers = L.layerGroup([plot_5, plot_5_edit, plot_6]).addTo(map);

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {attribution: mapBoxAttribution,
      maxZoom: 18,
      id: 'mapbox/streets-v11',
      tileSize: 512,
      zoomOffset: -1,
      accessToken: 'pk.eyJ1IjoiYm95a2oiLCJhIjoiY2t6aGhqY2s5M3l2NjJ2cDRqcW56NXk1aiJ9.SHbqduUQMxM8d9mDEhF0Gw'
    }).addTo(map);

    var satelliteLayer = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
      id: 'mapbox/satellite-streets-v11', 
      tileSize: 512, 
      zoomOffset: -1, 
      attribution: mapBoxAttribution,
      accessToken: 'pk.eyJ1IjoiYm95a2oiLCJhIjoiY2t6aGhqY2s5M3l2NjJ2cDRqcW56NXk1aiJ9.SHbqduUQMxM8d9mDEhF0Gw'
    }).addTo(map);

    var outdoorLayer = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
      id: 'mapbox/outdoors-v11', 
      tileSize: 512, 
      zoomOffset: -1, 
      attribution: mapBoxAttribution,
      accessToken: 'pk.eyJ1IjoiYm95a2oiLCJhIjoiY2t6aGhqY2s5M3l2NjJ2cDRqcW56NXk1aiJ9.SHbqduUQMxM8d9mDEhF0Gw',
    }).addTo(map);

    var baseMaps = {
      "Satellite": satelliteLayer,
      "Ground": outdoorLayer
    };

    var overlayMaps = {
      "Plots": plot_markers
    };

    L.control.layers(baseMaps, overlayMaps).addTo(map);
