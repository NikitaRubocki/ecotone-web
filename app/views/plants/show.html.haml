- content_for_title(@plant.common_name.titleize)
- content_for(:subnav) do
  .btn-public
    = button_to('Â« Plants', plants_path, class: 'button primary', title: 'List of all plants', method: 'get')
    = link_to(content_tag(:i, '', :class => "icon-qr-code"), { action: 'download_qr' }, 'data-turbolinks': false, class: 'btn-icon', title: "Download QR Code for #{@plant}")
  - if current_user&.admin?
    .btn-admin
      = link_to(content_tag(:i, '', :class => "icon-edit"), edit_plant_path(@plant), class: 'btn-icon', title: "Edit #{@plant}")
      = link_to(content_tag(:i, '', :class => "icon-trash"), @plant, method: :delete, data: { confirm: "Delete #{@plant.common_name}?" }, class: 'btn-icon', title: "Delete #{@plant}")
.content
  - if @plant.photo.length == 0
    .img-square.default
      = image_tag(photo(@plant), alt: "Photo of #{@plant.photo}")
  - elsif @plant.photo.length == 1
    .img-square{ :style => "background-image: url(#{rails_blob_url(photo(@plant))})", :alt => "Photo of #{@plant.photo}" }
  - else
    #plantCarousel.carousel{"data-interval" => "false"}
      .center
        %a.carousel-control-prev.btn-icon#chevron{"data-slide" => "prev", :href => "#plantCarousel", :role => "button"}
          = content_tag(:i, '', :class => "icon-chevron-left")
        .carousel-inner
          - @plant.photo.each_with_index do |image, index|
            %div{ :class => "img-square item #{index == 0 ? 'active' : ''}", :style => "background-image: url(#{rails_blob_url(photo(@plant, index))})", :alt => "Photo of #{image}" }
        %a.carousel-control-next.btn-icon#chevron{"data-slide" => "next", :href => "#plantCarousel", :role => "button"}
          = content_tag(:i, '', :class => "icon-chevron-right")
  .info
    %h2.heading.light-italic
      = @plant.scientific_name.capitalize
      - if @plant.invasive
        (invasive)
    %p.no-margin= @plant.description
    %p.citation.italic= @plant.citation
    %table.table
      %thead
        %th{scope: 'col'} Habitat Type
        %th{scope: 'col'} Tolerance
        %th{scope: 'col'} Invasive?
      %tbody
        %td= @plant.habitat_type
        %td= @plant.tolerance
        %td{class: ('danger' if @plant.invasive)}= @plant.invasive? ? 'Yes' : 'No'
